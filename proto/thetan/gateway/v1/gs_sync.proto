syntax = "proto3";

package thetan.gateway.v1;

option go_package = "thetan-buf/gen/go/thetan/gateway/v1;thetan_gateway_v1";
option csharp_namespace = "Thetan.Gateway.V1";

service ThetanGateway {
  rpc RivalPing(PingRequest) returns (PingResponse) {}
  rpc RivalPlayerConnected(PlayerConnectedRequest) returns (PlayerStatusResponse) {}
  rpc RivalPlayerDisconnected(PlayerDisconnectedRequest) returns (PlayerStatusResponse) {}
  rpc RivalRoomDestroyed(RoomDestroyedRequest) returns (RoomDestroyedResponse) {}
}

message PingRequest {
  string game_server_name = 1;
  repeated RoomInfo rooms = 2;
}

message PingResponse {
  string message = 1;
}

message PlayerConnectedRequest {
  string game_server_name = 1;
  string player_id = 2;
  int32 player_count = 3;
}

message PlayerDisconnectedRequest {
  string game_server_name = 1;
  string player_id = 2;
  int32 player_count = 3;
}

message PlayerStatusResponse {}

message RoomInfo {
  string room_id = 1;
  int32 player_count = 2;
}

message RoomDestroyedRequest {
  string room_id = 1;
}

message RoomDestroyedResponse {
  // Thêm các trường phản hồi tùy thuộc vào yêu cầu của bạn
}
